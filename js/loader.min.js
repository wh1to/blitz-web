!function(e){"use strict";var p,t=e.Spinner,o=["webkit","Moz","ms","O"],d={};function m(e,t){var n,i=document.createElement(e||"div");for(n in t)i[n]=t[n];return i}function h(e){for(var t=1,n=arguments.length;t<n;t++)e.appendChild(arguments[t]);return e}a=m("style",{type:"text/css"}),h(document.getElementsByTagName("head")[0],a);var f=a.sheet||a.styleSheet;function i(e,t){var n,i,s=e.style;for(t=t.charAt(0).toUpperCase()+t.slice(1),i=0;i<o.length;i++)if(void 0!==s[n=o[i]+t])return n;if(void 0!==s[t])return t}function g(e,t){for(var n in t)e.style[i(e,n)||n]=t[n];return e}function n(e){for(var t=1;t<arguments.length;t++){var n,i=arguments[t];for(n in i)void 0===e[n]&&(e[n]=i[n])}return e}function _(e,t){return"string"==typeof e?e:e[t%e.length]}var s={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",position:"absolute"};function r(e){this.opts=n(e||{},r.defaults,s)}r.defaults={},n(r.prototype,{spin:function(e){this.stop();var n,i,s,o,r,a,l,c=this,u=c.opts,d=c.el=g(m(0,{className:u.className}),{position:u.position,width:0,zIndex:u.zIndex});u.radius,u.length,u.width;return g(d,{left:u.left,top:u.top}),e&&e.insertBefore(d,e.firstChild||null),d.setAttribute("role","progressbar"),c.lines(d,c.opts),p||(n=0,i=(u.lines-1)*(1-u.direction)/2,o=u.fps,r=o/u.speed,a=(1-u.opacity)/(r*u.trail/100),l=r/u.lines,function e(){n++;for(var t=0;t<u.lines;t++)s=Math.max(1-(n+(u.lines-t)*l)%r*a,u.opacity),c.opacity(d,t*u.direction+i,s,u);c.timeout=c.el&&setTimeout(e,~~(1e3/o))}()),c},stop:function(){var e=this.el;return e&&(clearTimeout(this.timeout),e.parentNode&&e.parentNode.removeChild(e),this.el=void 0),this},lines:function(e,n){var t,i,s,o,r,a,l=0,c=(n.lines-1)*(1-n.direction)/2;function u(e,t){return g(m(),{position:"absolute",width:n.length+n.width+"px",height:n.width+"px",background:e,boxShadow:t,transformOrigin:"left",transform:"rotate("+~~(360/n.lines*l+n.rotate)+"deg) translate("+n.radius+"px,0)",borderRadius:(n.corners*n.width>>1)+"px"})}for(;l<n.lines;l++)a=g(m(),{position:"absolute",top:1+~(n.width/2)+"px",transform:n.hwaccel?"translate3d(0,0,0)":"",opacity:n.opacity,animation:p&&(t=n.opacity,i=n.trail,s=c+l*n.direction,o=n.lines,a=r=void 0,r=["opacity",i,~~(100*t),s,o].join("-"),s=.01+s/o*100,o=Math.max(1-(1-t)/i*(100-s),t),a=p.substring(0,p.indexOf("Animation")).toLowerCase(),d[r]||(f.insertRule("@"+(a&&"-"+a+"-"||"")+"keyframes "+r+"{0%{opacity:"+o+"}"+s+"%{opacity:"+t+"}"+(.01+s)+"%{opacity:1}"+(s+i)%100+"%{opacity:"+t+"}100%{opacity:"+o+"}}",f.cssRules.length),d[r]=1),r+" "+1/n.speed+"s linear infinite")}),n.shadow&&h(a,g(u("#000","0 0 4px #000"),{top:"2px"})),h(e,h(a,u(_(n.color,l),"0 0 1px rgba(0,0,0,.1)")));return e},opacity:function(e,t,n){t<e.childNodes.length&&(e.childNodes[t].style.opacity=n)}});var a=g(m("group"),{behavior:"url(#default#VML)"});function c(e,t){return m("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',t)}!i(a,"transform")&&a.adj?(f.addRule(".spin-vml","behavior:url(#default#VML)"),r.prototype.lines=function(e,i){var s=i.length+i.width,t=2*s;function o(){return g(c("group",{coordsize:t+" "+t,coordorigin:-s+" "+-s}),{width:t,height:t})}var n,r=2*-(i.width+i.length)+"px",a=g(o(),{position:"absolute",top:r,left:r});function l(e,t,n){h(a,h(g(o(),{rotation:360/i.lines*e+"deg",left:~~t}),h(g(c("roundrect",{arcsize:i.corners}),{width:s,height:i.width,left:i.radius,top:-i.width>>1,filter:n}),c("fill",{color:_(i.color,e),opacity:i.opacity}),c("stroke",{opacity:0}))))}if(i.shadow)for(n=1;n<=i.lines;n++)l(n,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(n=1;n<=i.lines;n++)l(n);return h(e,a)},r.prototype.opacity=function(e,t,n,i){e=e.firstChild;i=i.shadow&&i.lines||0,e&&t+i<e.childNodes.length&&(e=(e=(e=e.childNodes[t+i])&&e.firstChild)&&e.firstChild)&&(e.opacity=n)}):p=i(a,"animation"),r.noConflict=function(){return e.Spinner=t,r},e.Spinner=r}(window),!function(window){var WGCM={PLUGINS_NAMES:{USER_MENU:"user-menu",GAMES_DROPDOWN:"games-dropdown",SERVICES_DROPDOWN:"services-dropdown",OUTDATED_BROWSERS:"outdated-browsers",SHARED_FRAME:"shared-frame",NOTIFICATIONS:"notifications",INTRO_TOOLTIPS:"intro-tooltips",STATISTICS:"statistics",DESKTOP_NOTIFICATIONS:"desktop-notifications",TAB_CAROUSEL:"tab-carousel",MOMENT:"moment",JSON:"json2",SVG_INJECTOR:"svg-injector"},DEFAULT_CLASSES:{jsDropdownClass:"js-cm-dropdown",jsGamesDropdownClass:"js-cm-games-dropdown",jsServicesDropdownClass:"js-cm-services-dropdown",jsTabMark:"js-tab-mark",jsSubMenuClass:"js-cm-sub-menu",jsSubMenuFixedBackgroundClass:"cm-sub-menu-fixed-background",jsDropdownLinkClass:"js-cm-dropdown-link",dropdownOpenedClass:"cm-dropdown__opened",jsLayoutClass:"js-cm-layout",jsLayoutContentClass:"js-cm-layout-content",jsUpLinkClass:"js-cm-up_link",jsUserMenuClass:"js-cm-menu__user",jsUserMenuLinkText:"js-cm-singletons_text",jsUserMenuDropdownClass:"js-cm-user-menu-dropdown",jsUserMenuDropdownLink:"js-cm-user-menu-link",jsUserMenuStaticLinkClass:"jc-cm-menu_static-links",jsMenuRegionClass:"js-cm-menu_region",jsMenuHeaderRegionClass:"js-cm-menu-header_region",jsPersonaMenuHeaderRegionClass:"js-cm-header-account-region",jsRegionHiddenClass:"cm-account-region__hidden",jsMenuRegionShowClass:"cm-user-menu-link_region__show",jsNotificationsLinkClass:"js-cm-notifications-link",notificationsLinkShowClass:"cm-notifications-link__show",jsNotificationsCounterClass:"js-cm-notifications-counter",jsNotificationsDropdownClass:"js-cm-notifications-dropdown",jsLoginSpinnerClass:"js-cm-login-spinner",jsLoginSpinnerMobileClass:"js-cm-login-spinner-mobile",jsLoginLinkClass:"js-cm-login-link",jsExtraLinkNewText:"js-extra-link-new-text",jsExtraLinkNew:"js-extra-link-new",jsLinkIgnoreTargetClass:"js-cm-link-ignore-target",jsHintClass:"js-cm-hint",jsHintContainerClass:"js-cm-hint-container",notTouchClass:"cm-not-touch",notSVGClass:"cm-not-svg",notificationsCounterTwoDigitsClass:"cm-counter__double",counterHiddenClass:"cm-counter__hidden",titleParagraphClass:"cm-title_paragraph",titleShowClass:"cm-title__show",oldBrowser:"cm-old-browser",hiddenMenuClass:"cm-user-menu_holder_hidden"}};const REALMS={SG:"sg",US:"us",EU:"eu",GLOBAL:"global"},READABLE_SG_NAME="asia";WGCM.CONSTANTS={REALMS:REALMS,READABLE_SG_NAME:READABLE_SG_NAME},!function(u){var e=Array.prototype,t=Object.prototype,r=e.forEach,a=e.some,d=e.slice,l=t.hasOwnProperty,i=window.encodeURIComponent;u.getFormattedDateWithOffset=function({days:e=0,hours:t=0,minutes:n=0,seconds:i=0}){var s=new Date;return s.setDate(s.getDate()+e),s.setHours(s.getHours()+t),s.setMinutes(s.getMinutes()+n),s.setSeconds(s.getSeconds()+i),s.toUTCString()},u.useLocalStorage=function({key:n,initialValue:i,storageCacheLifeTime:s}){let o=function(){try{var e=localStorage.getItem(n)||"{}",t=JSON.parse(e);return t.expires&&(new Date).getTime()>new Date(t.expires).getTime()?(localStorage.removeItem(n),i):u.isEmpty(t)?i:t}catch(e){return console.log("Error while parsing localStorage data",e),i}}();return[function(){return o},function(e){var t=s?{expires:u.getFormattedDateWithOffset(s)}:{};o=Object.assign({},e,t);try{localStorage.setItem(n,JSON.stringify({...e,...t}))}catch(e){console.log("Can not store settings in private mode.")}}]},u.arrayFrom=function(t,n,i){var s,o,r,a,l,c;try{return d.call(t,n,i)}catch(e){if(u.isArray(t))return d.call(t,n,i);if(o=[],a=t.length,c=i||a,0<(r=(c=i<0?a+i:c)-(l=0<=(l=n||0)?l:a+l)))for(o=new Array(r),s=0;s<r;s++)o[s]=t[l+s];return o}},u.debounce=function(t,n,i){var s,o,r,a,l,c=Date.now||function(){return(new Date).getTime()},u=function(){var e=c()-a;e<n&&0<e?s=setTimeout(u,n-e):(s=null,i||(l=t.apply(r,o),s)||(r=o=null))};return function(){var e=i&&!s;return r=this,o=arguments,a=c(),s=s||setTimeout(u,n),e&&(l=t.apply(r,o),r=o=null),l}},u.extend=function(){for(var e,t,n=d.call(arguments),i=n[0]||{},s=n.length,o=1;o<s;o++)for(t in e=n[o])l.call(e,t)&&void 0!==e[t]&&(i[t]=e[t]);return i},u.forEach=function(e,t,n){var i,s,o;if(e){if(u.isArrayLike(e)){if(r)return r.call(e,t,n);for(o=0,i=e.length;o<i;o++)t.call(n,e[o],o,e)}else for(s in e)l.call(e,s)&&t.call(n,e[s],s,e);return e}},u.some=function(e,t,n){var i,s,o=!u.isArrayLike(e)&&u.keys(e),r=(o||e).length;if(!o&&a)return a.call(e,t,n);for(s=0;s<r;s++)if(i=o?o[s]:s,l.call(e,i)&&!0===t.call(n,e[i],i,e))return!0;return!1},u.hasAnyProperty=function(e){for(var t in e)if(l.call(e,t))return!0;return!1},u.inArray=function(e,t){var n,i=e.length;if(e&&t)for(n=0;n<i;n++)if(e[n]===t)return!0;return!1},u.isArray=Array.isArray||function(e){return"[object Array]"===t.toString.call(e)},u.isArrayLike=function(e){var t,n=Math.pow(2,53)-1;return"number"==typeof(t=e&&e.length?e.length:t)&&0<=t&&t<=n},u.keys=function(e){var t,n=[];if(!e||"object"!=typeof e||null===typeof e)return[];if(Object.keys)return Object.keys(e);for(t in e)l.call(e,t)&&n.push(t);return n},u.formatString=function(e){var n=d.call(arguments,1);return e?e.replace(/(?:{(\d)})/g,function(e,t){return t=parseInt(t,10),void 0!==n[t]?n[t]:e}):""},u.toQueryString=function(e){var t,n=[];for(t in e)l.call(e,t)&&n.push(i(t)+"="+i(e[t]));return n.join("&")},u.addQueryString=function(e,t){var n;return t&&(n=e&&-1!==e.indexOf("?")?"&":"?",e&&-1!==e.indexOf("#")?e=e.substr(0,e.indexOf("#"))+n+t+e.substr(e.indexOf("#")):e+=n+t),e},u.isEmpty=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},u.escape=function(){function t(e){return i[e]}var e,n,i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},s=[];for(e in i)l.call(i,e)&&s.push(e);return n=new RegExp("(?:"+s.join("|")+")","g"),function(e){return"string"==typeof e?e.replace(n,t):e}}()}(WGCM.utils={}),!function(e,i,t){e.LazyLoad=new function(f){var g,_,v=50,w={},C=0,y=parseInt(1e4/v,10),S={css:[],js:[]},n=f.styleSheets;function b(e,t){var n,i=f.createElement(e);for(n in t)t.hasOwnProperty(n)&&i.setAttribute(n,t[n]);return i}function k(e,i,t,n,s,o){var r,a=w[e];function l(e,t,n){r=n||t.obj,e&&("function"==typeof e?e.call(t.context,r):"object"==typeof e&&("function"==typeof e[i]&&e[i].call(t.context,r),"function"==typeof e.complete)&&e.complete.call(t.context,r))}o&&clearTimeout(o),t&&"js"===e&&(t.parentNode&&t.parentNode.removeChild(t),t.onload=t.onerror=t.onreadystatechange=null),a&&(o=a.callback,t=a.urls,C=0,t.shift(),t.length?s&&l(o,a,n):(l(o,a,n),w[e]=null,S[e].length&&c(e)))}function E(e,t,n,i,s,o){return function(){k(e,t,n,i,s,o)}}function c(i,e,t,n,s,o){var r,a,l,c,u,d,p,m="css"===i,h=[];if(g||(p=navigator.userAgent,(g={async:!0===f.createElement("script").async}).webkit=/AppleWebKit\//.test(p))||(g.ie=/MSIE|Trident/.test(p))||(g.opera=/Opera/.test(p))||(g.gecko=/Gecko\//.test(p))||(g.unknown=!0),e)if(e="string"==typeof e?[e]:e.concat(),m||g.async||g.gecko||g.opera)S[i].push({urls:e,callback:t,obj:n,context:s});else for(r=0,a=e.length;r<a;++r)S[i].push({urls:[e[r]],callback:r===a-1||o?t:null,obj:n,context:s,timeout:o||0});if(!w[i]&&(c=w[i]=S[i].shift())){for(_=_||f.head||f.getElementsByTagName("head")[0],r=0,a=(u=c.urls.concat()).length;r<a;++r)"object"==typeof u[r]?(d=u[r].url,n=u[r].obj):d=u[r],(l=m?g.gecko?b("style"):b("link",{href:d,rel:"stylesheet"}):b("script",{src:d})).className="lazyload",l.setAttribute("charset","utf-8"),g.ie&&!m&&"onreadystatechange"in l&&!("draggable"in l)?l.onreadystatechange=function(){c.timeout&&/loading/.test(l.readyState)&&(c.timeoutID=setTimeout(function(){k(i,"error",l,n,!0)},c.timeout)),/loaded|complete/.test(l.readyState)&&k(i,"success",l,n,!1,c.timeoutID)}:m&&(g.gecko||g.webkit)?g.webkit?(c.urls[r]=l.href,j()):(l.innerHTML='@import "'+d+'";',function t(n){var i;try{i=!!n.sheet.cssRules}catch(e){return void((C+=1)<y?setTimeout(function(){t(n)},v):i&&k("css"))}k("css")}(l)):o?(l.onload=E(i,"success",l,n,!0),l.onerror=E(i,"error",l,n,!0)):(l.onload=E(i,"success",l,n),l.onerror=E(i,"error",l,n)),h.push({node:l,obj:n});for(r=0,a=h.length;r<a;++r)!o||g.ie&&("onreadystatechange"in l||!("draggable"in l))||m||!function(e,t){var n=setTimeout(function(){k(i,"error",e,t,!0)},o);e.onload=E(i,"success",e,t,!0,n),e.onerror=E(i,"error",e,t,!0,n)}(h[r].node,h[r].obj),_.appendChild(h[r].node)}}function j(){var e,t=w.css;if(t){for(e=n.length-1;0<=e;){if(n[e].href===t.urls[0]){k("css");break}e--}C+=1,t&&(C<y?setTimeout(j,v):k("css"))}}function e(){}this.css=function(e,t,n,i){c("css",e,t,n,i)},this.js=function(e,t,n,i,s){c("js",e,t,n,i,s)},this.jsonp=function(t){(t=i.extend({callback_name:"callback",url:"",data:{},success:e,error:e,complete:e,timeout:1e4},t)).data[t.callback_name]||(t.data[t.callback_name]="jsonp_"+function(e){for(var t="";t.length<e;)t+=Math.random().toString(36).charAt(2);return t}(15));var n=t.data[t.callback_name];t.url+=-1===t.url.indexOf("?")?"?":"&",t.url+=function(e){var t,n,i=window.encodeURIComponent,s=[];for(t in e)e.hasOwnProperty(t)&&(n=e[t],s.push(i(t)+"="+i(n)));return s.join("&")}(t.data),window[n]=function(e){t.success(e);try{return delete window[n]}catch(e){return window[n]=!1}},c("js",[t.url],{error:t.error,complete:t.complete})}}(t)}(WGCM,WGCM.utils,window.document),!function(e,i){var s,n,o,r=Object.prototype.hasOwnProperty;e.i18n={setDictionary:function(e){s&&s._filename===WG.CommonMenu.getOptions().language||(e=(s=e||{})[""]&&s[""]["plural-forms"]||"",o=new Function("n",["var plurals,plural;",e,";return plural;"].join("")))},addDictionaryFromConfig:function(e){n&&n._filename===WG.CommonMenu.getOptions().language||(n=e||{})},_:function(e,t){return e?(void 0===t&&(t=e),void 0!==s&&s[e]||t):""},_u:function(e,t){return e?(void 0===t&&(t=e),void 0!==n&&n[e]||t):""},_n:function(e,t,n){t=(1===(n=n||1)?e:t)||"";return""!==e&&void 0!==s&&r.call(s,e)&&(e=s[e],i.isArray(e))&&e[o(n)+1]||t}}}(WGCM,WGCM.utils),!function(u,o,r){var t,n,i=" ",s=/[\s\t\r\n\f]+/g,a=/\S+/g,l=/^\s+|\s+$/g,c=Object.prototype.hasOwnProperty;function d(e){return(e=i+e+i).replace(s,i)}function p(e,t,n){var i,s,o,r;if(u.isElement(e)){for(s=d(e.className),r=0,o=(i=(t||"").match(a)||[]).length;r<o;r++)s=n(s,i[r]);t=s.replace(l,""),e.className!==t&&(e.className=t)}}u.handlerId=0,u.isElement=function(e){return e&&1===e.nodeType},u.addClass=function(e,t){p(e,t,function(e,t){return e.indexOf(t)<0&&(e+=t+i),e})},u.removeClass=function(e,t){p(e,t,function(e,t){for(t=i+t+i;0<=e.indexOf(t);)e=e.replace(t,i);return e})},u.hasClass=function(e,t){return!!u.isElement(e)&&(t=i+t+i,0<=d(e.className).indexOf(t))},u.findByClass=function(t,e){var n=[];return(e=e||r).getElementsByClassName?e.getElementsByClassName(t):e.querySelectorAll?e.querySelectorAll("."+t):(o.forEach(e.getElementsByTagName("*"),function(e){u.hasClass(e,t)&&n.push(e)}),n)},u.getElementOffset=function(e){var t={top:0,left:0},n=e&&e.ownerDocument;if(n)return n=n.documentElement,u.hasParent(e,n)?{top:(t=void 0!==e.getBoundingClientRect?e.getBoundingClientRect():t).top+(window.pageYOffset||n.scrollTop)-(n.clientTop||0),left:t.left+(window.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}:t},u.inViewport=function(e){var t=u.getElementOffset(e),n=r.documentElement,i=window.pageYOffset||n.scrollTop,s=window.pageXOffset||n.scrollLeft;return t.top>=i&&t.left>=s&&t.top+e.offsetHeight<=i+(window.innerHeight||n.clientHeight)&&t.left+e.offsetWidth<=s+(window.innerWidth||n.clientWidth)},u.findFirstByClass=function(t,e){var n;return(e=e||r).getElementsByClassName?e.getElementsByClassName(t)[0]:e.querySelectorAll?e.querySelectorAll("."+t)[0]:(o.some(e.getElementsByTagName("*"),function(e){if(u.hasClass(e,t))return n=e,!0}),n)},u.nextSibling=function(e){var t;if(!u.isElement(e))return null;if(e.nextElementSibling)return e.nextElementSibling;for(t=e.nextSibling;!u.isElement(t);)t=t.nextSibling;return t},u.previousSibling=function(e){var t;if(!u.isElement(e))return null;if(e.previousElementSibling)return e.previousElementSibling;for(t=e.previousSibling;!u.isElement(t);)t=t.previousSibling;return t},u.parentByClass=function(e,t){for(;e;){if(u.hasClass(e,t))return e;e=e.parentNode}return null},u.hasParent=function(e,t){for(;e=e.parentNode;)if(e===t)return!0;return!1},u.remove=function(e){u.isElement(e)&&(e.remove?e.remove():e.parentNode&&e.parentNode.removeChild(e))},u.scrollTo=function(e,t,n,i,s){function o(){l+=15,e.scrollTop=c(l,r,a,n),l<n?setTimeout(o,15):"function"==typeof s&&s()}var r=e.scrollTop,a=t-r,l=0,c=u.easing[i||"easeInOutCubic"];o()},u.scrollIntoView=function(e,t,n,i){var s=u.getElementOffset(e);u.inViewport(e)?"function"==typeof i&&i():u.scrollTo(r.body,s.top,t,n,i)},u.easing={easeInOutCubic:function(e,t,n,i){return(e/=i/2)<1?n/2*e*e*e+t:n/2*((e-=2)*e*e+2)+t}},u.wrap=function(e,t){return t=t||r.createElement("div"),e.nextSibling?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.appendChild(t),t.appendChild(e)},u.addEventListener=function(s,e,t){s&&(t.handlerId||(t.handlerId=++u.handlerId),s.commonHandle=function(e){var t,n=new u.Event(e),i=s.events[e.type];for(t in i)c.call(i,t)&&!1===i[t].call(s,n)&&e.stop()},s.events||(s.events={},s.fixedListener=function(e){if("undefined"!=typeof Event)return s.commonHandle.call(s,e)}),o.forEach(e.split(/\s+/),function(e){s.events[e]||(s.events[e]={},s.addEventListener?s.addEventListener(e,s.fixedListener,!1):s.attachEvent&&s.attachEvent("on"+e,s.fixedListener)),s.events[e][t.handlerId]=t}))},u.removeEventListener=function(n,e,i){o.forEach(e.split(/\s+/),function(e){var t=n.events&&n.events[e];if(t&&(delete t[i.handlerId],!o.hasAnyProperty(t))&&(n.removeEventListener?n.removeEventListener(e,n.fixedListener,!1):n.detachEvent&&n.detachEvent("on"+e,n.fixedListener),delete n.events[e],!o.hasAnyProperty(n.events)))try{delete n.fixedListener,delete n.events}catch(e){n.removeAttribute("fixedListener"),n.removeAttribute("events")}})},u.css=function(e){return window.getComputedStyle?window.getComputedStyle(e):e.currentStyle},u.supportsCSSTransitions="string"==typeof(t=(r.body||r.documentElement).style)[n="transition"]||(n=n.charAt(0).toUpperCase()+n.substr(1),o.some(["Moz","webkit","Webkit","Khtml","O","ms"],function(e){if("string"==typeof t[e+n])return!0})),u.Event=function(e){this.target=e.target||e.srcElement,this.originalEvent=e},u.Event.prototype={preventDefault:function(){var e=this.originalEvent;e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)}},u.setInterface=function(e,t){var n=e.getAttribute("data-current-interface"),i=e.getAttribute("data-previous-interface");e&&t!==n&&(""!==(t=void 0===t?i:t)?(n&&(e.setAttribute("data-previous-interface",n),u.removeClass(e,n)),u.addClass(e,t)):u.removeClass(e,n),e.setAttribute("data-current-interface",t))}}(WGCM.DOM={},WGCM.utils,window.document),!function(e,o){e.supportsTouch=function(){return"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch},e.allowSVG=function(){return!(!document.createElementNS||!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect||this.isOldOpera()||this.isOldNativeAndroid())},e.allowSharedFrame=function(){return"safari"!==this.getBrowserInfo().name},e.isOldOpera=function(){return/Opera/.test(navigator.userAgent)},e.isOldNativeAndroid=function(){var e=0<=navigator.userAgent.indexOf("Android"),t=parseInt((/WebKit\/([0-9]+)/.exec(navigator.appVersion)||0)[1],10)||void 0;return e&&t<=534&&0===navigator.vendor.indexOf("Google")},e.isIE=function(){var e,t=navigator.userAgent,n=navigator.appName;return"Microsoft Internet Explorer"===n?e=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})"):"Netscape"===n&&(e=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})")),e&&null!==e.exec(t)},e.getBrowserInfo=function(){var e,t=navigator.userAgent,n=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(n[1])?(e=/\brv[ :]+(\d+)/g.exec(t)||[],{name:"ie",version:parseFloat(e[1]||0)}):("msie"===n[1].toLowerCase()&&(n[1]="ie"),"Chrome"===n[1]&&null!==(e=t.match(/\bOPR\/(\d+)/))?{name:"opera",version:parseFloat(e[1])}:(n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"],null!==(e=t.match(/version\/(\d+)/i))&&n.splice(1,1,e[1]),{name:n[0].toLowerCase(),version:parseFloat(n[1])}))},e.isActualBrowser=function(e){var n=this.getBrowserInfo(),i=!0,s=["ie6","ie7","ie8","ie9","opera12"];return e&&e.outdated_browsers&&(e=e.outdated_browsers.split(","),o.forEach(e,function(e){var t=function(e){e=e.match(/([^\d]+)(\d+)/i);return e[1]&&e[2]?{name:e[1],version:parseFloat(e[2])}:{name:"",version:0}}(e);o.inArray(s,e)&&t.name===n.name&&t.version>=n.version&&(i=!1)},this)),i},e.getCookie=function(e){e=(document.cookie?"; "+document.cookie:"").split("; "+e+"=");if(2===e.length)return e.pop().split(";").shift()},e.setCookie=function(e,t,n,i){var s=new Date;n=n||"0",i=i||"/",s.setDate(s.getDate()+n),document.cookie=e+"="+t+"; path="+i+"; expires="+s.toUTCString()+"; SameSite=None; secure"}}(WGCM.Browser={},WGCM.utils),!function(t,e){var n=void 0!==e.matchMedia||void 0!==e.msMatchMedia;t.getWidth=function(){return e.innerWidth},t.isMobile=function(){return n&&t.getWidth()<480},t.isBigMobile=function(){return n&&t.getWidth()<640},t.isTablet=function(){var e=t.getWidth();return n&&480<=e&&e<1024},t.isBigTablet=function(){var e=t.getWidth();return n&&640<=e&&e<1024},t.isDesktop=function(){return!n||1024<=t.getWidth()},t.isDeviceUnder768=function(){return n&&t.getWidth()<768}}(WGCM.Viewport={},window),!function(e,a,l,c,o){var r="isNotStarted",u="isNew",d="isRead",n="isClicked";e.Dropdowns={initDropdownWindowHandlers:function(){var s=this;a.addEventListener(window,"resize",l.debounce(function(){var e=a.findFirstByClass(c.jsNotificationsDropdownClass),t=a.findFirstByClass(c.jsGamesDropdownClass),n=a.findFirstByClass(c.jsServicesDropdownClass),i="";s.isDropdownShown(e)&&s.updateNotificationsDropdownPosition(),s.isDropdownShown(t)?i=t:s.isDropdownShown(n)&&(i=n),i&&(s.updateImagesSourceAttribute(i),s.updateSubmenu(i))},100)),a.addEventListener(window,"pagehide unload",function(){s.hideDropdowns()})},initDropdownBodyHandlers:function(){var t,n=this.getOptions(),i=this;this.bodyClickHandler=function(e){e=e.target;e===i.menuContainerElement||a.hasParent(e,i.menuContainerElement)||(i.hideDropdown(i.dropdownLinkAll),i.hideDropdowns(),i.hideTooltip(),i.unbindBodyEvents())},this.touchStartHandler=function(e){t=(new Date).getTime(),a.addEventListener(document.body,"touchend",i.touchEndHandler)},this.touchEndHandler=function(e){(new Date).getTime()-t<=n.maxTapTime&&i.bodyClickHandler(e)},this.unbindBodyEvents=function(){a.removeEventListener(document.body,"click",i.bodyClickHandler),a.removeEventListener(document.body,"touchstart",i.touchStartHandler),a.removeEventListener(document.body,"touchend",i.touchEndHandler)},a.addEventListener(document.body,"click",this.bodyClickHandler),a.addEventListener(document.body,"touchstart",i.touchStartHandler)},onDropdownLinkClick:function(e){var t,n=e.currentTarget,i=a.parentByClass(n,c.jsSubMenuClass),s=a.findByClass(c.jsDropdownLinkClass);if(i){if(this.isDropdownShown(n))return void(o.isDeviceUnder768()&&this.toggleDropdown(n));t=a.previousSibling(a.parentByClass(n,c.jsDropdownClass)),i=a.parentByClass(i,c.jsDropdownClass),i=a.findByClass(c.jsSubMenuClass,i),this.hideDropdowns(t,i)}else this.hideDropdowns(n,s);this.toggleDropdown(n),e.preventDefault()},openSubmenuOnDropdownShow:function(e){var t=e.getAttribute("data-dropdown"),n="services"===t||"games"===t,i=a.findFirstByClass(c.jsDropdownLinkClass,e),s=this.getOptions(),e=a.findByClass(c.jsSubMenuClass,e);if(!o.isDeviceUnder768()&&n&&!this.isSomeSubmenuShow(e)&&(t&&"games"===t&&l.forEach(e,function(e){var t=e.getAttribute("data-tab-name");s.project===t&&(i=e)}),i))return this.showDropdown(i),i},isSomeSubmenuShow:function(e){var t=this,n=!1;return l.forEach(e,function(e){t.isDropdownShown(e)&&(n=!0)}),n},onUpLinkClick:function(e){var t=e.currentTarget,n=this.getOptions();this.hideDropdowns(t),this.hideDropdown(this.dropdownLinkAll),a.scrollIntoView(this.layoutElement,n.scrollAnimationSpeed),e.preventDefault()},onLoginLinkClick:function(){this.hideDropdowns()},onNewExtraLinkClick:function(e){var e=e.currentTarget,t=e.getAttribute("data-extralink-hash"),e=a.findFirstByClass(c.jsExtraLinkNewText,e);this.SharedFrame.setSharedOption("extra_link_"+t,n,7),a.remove(e)},isDropdownShown:function(e){return!!e&&a.hasClass(e,e.getAttribute("data-active-class"))},updateNotificationsDropdownPosition:function(){var e=a.findFirstByClass,t=e(c.jsUserMenuClass),n=e(c.jsNotificationsLinkClass),e=e(c.jsNotificationsDropdownClass);n&&e&&(t=t.offsetWidth-n.offsetLeft-n.offsetWidth,e.style.right=t+"px")},hideDropdowns:function(t,e){return e=e||this.dropdownLinks,l.forEach(e,function(e){e!==t&&this.hideDropdown(e)},this),t||this.hideDropdown(this.dropdownLinkAll),this},hideDropdown:function(n){var i=a.nextSibling(n),s=c.dropdownOpenedClass,o=this;return this.isDropdownShown(i)&&(this.animationTimeout&&(clearTimeout(this.animationTimeout),this.animationCallback()),a.removeClass(n,n.getAttribute("data-active-class")),a.removeClass(i,i.getAttribute("data-active-class")),this.animationCallback=function(){var e=i.getAttribute("data-dropdown"),t="dropdownhide:"+e;i&&a.removeClass(i,s),o.animationTimeout=void 0,o.trigger(t,n,i),o.trigger("dropdownhide",e,n,i)},a.hasClass(n,c.jsSubMenuClass)?this.animationCallback():this.animationTimeout=setTimeout(this.animationCallback,200)),this},showDropdown:function(n){var i=a.nextSibling(n),e=c.dropdownOpenedClass,s=this;return this.isDropdownShown(i)||(this.animationTimeout&&(clearTimeout(this.animationTimeout),this.animationCallback()),i&&a.addClass(i,e),this.animationCallback=function(){var e=i.getAttribute("data-dropdown"),t="dropdownshow:"+e;a.addClass(n,n.getAttribute("data-active-class")),a.addClass(i,i.getAttribute("data-active-class")),a.scrollIntoView(n.parentNode,100),s.animationTimeout=void 0,s.trigger(t,n,i),s.trigger("dropdownshow",e,n,i),s.initDropdownBodyHandlers()},a.hasClass(n,c.jsSubMenuClass)?this.animationCallback():this.animationTimeout=setTimeout(this.animationCallback,100)),this},toggleDropdown:function(e){return a.hasClass(e,e.getAttribute("data-active-class"))?this.hideDropdown(e):this.showDropdown(e),this},updateImagesSourceAttribute:function(e){var t="js-image-lazy-load-desktop";o.isBigTablet()?t="js-image-lazy-load-tablet":o.isBigMobile()&&(t="js-image-lazy-load-mobile"),l.forEach(a.findByClass(t,e),function(e){e.src||(e.src=e.getAttribute("data-src"))})},updateNewTabBubble:function(t,e){var n,i,s=this,o=s.getOptions(),r=t.getAttribute("data-tab-name");s.readTimeout&&(clearTimeout(s.readTimeout),s.readTimeout="",a.removeClass(s.previousTab.tabMarkElement,s.previousTab.activeClass),s.setExtraLinksState(s.previousTab.tab,o,d,s)),l.forEach(e,function(e){e.name===r&&s.isTabHighlighted(e,o)&&(n=a.findFirstByClass(c.jsTabMark,t),i=n?n.getAttribute("data-active-class"):"",s.previousTab={tab:e,tabMarkElement:n,activeClass:i},s.setExtraLinksState(e,o,d,s),s.readTimeout=setTimeout(function(){s.readTimeout="",a.removeClass(n,i)},4e3))})},setExtraLinksState:function(e,t,n,i){var s=this;l.forEach(e.extra_links,function(e){s.getExtraLinkState(e,t)===u&&(t.extraLinksStates[e.notifying_hash]={state:n},i.SharedFrame.setSharedOption("extra_link_"+e.notifying_hash,n,7))})},getExtraLinkState:function(e,t){var n,i,s=r,o=(new Date).getTime()/1e3;return s=e.notifying_started&&(n=e.notifying_started,i=Math.abs(o-n),n<o)&&i<=604800&&(s=u,t.extraLinksStates[e.notifying_hash])?t.extraLinksStates[e.notifying_hash].state:s},isTabHighlighted:function(e,t){var n=this,i=!1;return WG.CommonMenu.isSharedFrameReady()&&l.forEach(e.extra_links,function(e){n.getExtraLinkState(e,t)===u&&(i=!0)}),i},isLinkHighlighted:function(e,t){e=this.getExtraLinkState(e,t);return!!WG.CommonMenu.isSharedFrameReady()&&e!==r&&e!==n},activateDropdownLink:function(e){e=a.previousSibling(e);e&&a.addClass(e,c.jsDropdownLinkClass)},updateSubmenu:function(e){o.isDeviceUnder768()||this.openSubmenuOnDropdownShow(e)},isSomeSubmenuInDropdownOpened:function(e){var e=a.findByClass(c.jsSubMenuClass,e),t=!1,n=this;return l.forEach(e,function(e){n.isDropdownShown(e)&&(t=!0)}),t}}}(WGCM,WGCM.DOM,WGCM.utils,WGCM.DEFAULT_CLASSES,WGCM.Viewport),!function(r,o,i,s,e){r._=i._,r._u=i._u,r._n=i._n,r.hasAttr=function(e,t){for(var n,i=t.split("."),s=i.length,o=e,r=0;r<s;r++){if(void 0===o[n=i[r]])return!1;o=o[n]}return!0},r.getAttr=function(e,t,n){for(var i,s=t.split("."),o=s.length,r=e,a=0;a<o;a++){if(void 0===r[i=s[a]])return n||"";r=r[i]}return r},r.formatNumber=function(e,t){var n=/(\d)(?=(\d{3})+(?!\d))/g;return e?t&&"ar"===t?e:-1===(e=e.toString()).indexOf(".")?e.replace(n,"$1 "):(t=e.indexOf("."),e.substr(0,t).toString().replace(n,"$1 ")+"."+e.substr(t+1)):""},r.isChineseRealm=function(e){return!(!e||!e.realm)&&o.inArray(["cn0","cn1","cn2","cn360"],e.realm)},r.isRtlLanguage=function(e){return!!e&&o.inArray(["ar"],e.language)},r.isNeedToShowGameCard=function(e,t){var n;return!!e&&(n=this.isUserGoodsExist(e,t),e[t+"_profile_exists"]||n)},r.isUserGoodsExist=function(e,t){var n,i=!1,s=!1;return!!e&&(this.hasAttr(e,t+"_premium_expires_at")&&(i=(n=this.timeFromNow(e[t+"_premium_expires_at"]))&&!n.past),this.hasAttr(e,t+"_new_premium_expires_at")&&(s=(n=this.timeFromNow(e[t+"_new_premium_expires_at"]))&&!n.past),i||s||0<e[t+"_gold"])},r.isAnyUserGoodsExist=function(e){return!!e&&(this.isUserGoodsExist(e,"wot")||this.isUserGoodsExist(e,"wowp")||this.isUserGoodsExist(e,"wotg")||this.isUserGoodsExist(e,"wows"))},r.getAccountLink=function(e,t){return o.formatString(e,t.id,t.name)},r.formatTime=function(e,t,n){var i,s=(new Date).getTime(),s=!isNaN(parseFloat(e))&&isFinite(e)?(i=this.moment(1e3*e),"calendar"===t?1e3*e<s?i.format("LLL"):i.calendar():i.format(t||"LLL")):e;return n?s:'<span class="cm-bold cm-nowrap">'+s+"</span>"},r.containsSingleItem=function(e){return!!e&&1===o.keys(e).length},r.getSingleItem=function(e){var t=o.keys(e);return 1===t.length?e[t[0]]:""},r.cropText=function(e,t,n,i){return void 0===i&&(i=""),e.length<=n?o.escape(e):(e=e.substr(0,n),"word"===t&&(e=e.substr(0,Math.min(n,e.lastIndexOf(" ")))),o.escape(e+=i))},r.makeIcon=function(e){return o.formatString('<span class="cm-currency cm-currency__{0}">{0}</span>',o.escape(e))},r.makeLink=function(e,t,n,i){var s="";return void 0!==i&&(s=o.formatString('style="{0}"',o.escape(i))),o.formatString('<a href="{0}" class="cm-{1}-link" {2}>{3}</a>',encodeURI(t),o.escape(n),s,o.escape(e))},r.acronymHof=function(e){var t={global_rating:"PR",battles_count:"GLP",frags_count:"FRG",damage_dealt:"DMG",xp_max:"MXP",wins_ratio:"W/B",hits_ratio:"HR",xp_avg:"E/B",damage_avg:"D/B",survived_ratio:"SR",frags_avg:"F/B",spotted_avg:"S/B",xp_amount:"EXP",spotted_count:"SPT"};return"["+(this.hasAttr(t,e)?t[e]:e)+"]"},r.timeFromNow=function(e){var t=(new Date).getTime(),n=Math.abs(t-e)/6e4,e=e<t;if(n)return n<60?{unit:"minute",value:Math.ceil(n),past:e}:(n/=60)<24?{unit:"hour",value:Math.ceil(n),past:e}:(n/=24,{unit:"day",value:Math.ceil(n),past:e})},r.formatPremiumExpiration=function(e,t){var e=this.timeFromNow(e),n="";return e&&!e.past&&(t=t?i._("units_"+e.unit+"s_name"):i._n("text_remaining_"+e.unit,"text_remaining_"+e.unit+"s",e.value),n={time:r.formatNumber(e.value),text:o.formatString(t,"")}),n},r.formatGameName=function(e){return o.formatString(e,'<span class="cm-bold">',"</span>")},r.forEach=function(){return o.forEach.apply(o,arguments)},r.formatString=function(){return o.formatString.apply(o,arguments)},r.escape=function(){return o.escape.apply(o,arguments)},r.allowSVG=function(){return s.allowSVG.apply(s,arguments)},r.isOldOpera=function(){return s.isOldOpera.apply(s,arguments)},r.isTabHighlighted=function(){return e.isTabHighlighted.apply(e,arguments)},r.isLinkHighlighted=function(){return e.isLinkHighlighted.apply(e,arguments)},r.getUTMCampaign=function(e){var t="all"===(e=e||this.options).project?"":e.project,e={pss:"premium-shop",frm:"forum",ptl:"portal",spt:"support",papidev:"papi",wgq:"wargag"}[e.service]||e.service;return t?t+"-"+e:e},r.addUtm=function(e,t,n){t=o.extend({},{utm_source:"global-nav",utm_medium:"link"},t);return t.utm_campaign=this.getUTMCampaign(n),o.addQueryString(e,o.toQueryString(t))},r.addUtmToLinksInHTML=function(e,s){var o=this.options;return e.replace(/(href=(['"]))([^\2]*?)(\2)/gi,function(e,t,n,i){return t+r.addUtm(i,s,o)+n})},r.buildImageUrl=function(e,t){var n=/\.svg$/i;return e?!s.allowSVG()&&n.test(e)?t.images_url+e.replace(n,".png"):t.images_url+e:""}}(WGCM.templateHelpers={},WGCM.utils,WGCM.i18n,WGCM.Browser,WGCM.Dropdowns),!function(e){var l=Array.prototype.slice;e.Events={on:function(e,t,n){return this._events=this._events||{},(this._events[e]||(this._events[e]=[])).push({callback:t,context:n}),this},off:function(e){return e?delete this._events[e]:this._events=void 0,this},trigger:function(e){var t,n=l.call(arguments,1);if(this._events&&(t=this._events[e]))for(var i,s=t,o=n,r=s.length,a=0;a<r;a++)(i=s[a]).callback.apply(i.context,o);return this}}}(WGCM),!function(e,i,t,n,s){var o="initialized";e.Pluginable={plugins:{},definePlugin:function(t,n){var i=this;this.isPluginLoaded(t)?i.pluginInit(t,n):this.on("plugin:loaded",function(e){e===t&&i.pluginInit(t,n)})},pluginInit:function(e,t){t.init(this.getOptions()),this.plugins[e].state=o,this.trigger("plugin:ready",e,t)},getPluginUrl:function(e){var t=this.getOptions(),n=t.debug?".js":".min.js";return[t.frontend_url,"plugin",e].join("/")+n+"?"+t.version},loadPlugin:function(e){var t=this,n={success:function(e){t.plugins[e].state="loaded",t.trigger("plugin:loaded",e)},error:function(e){t.plugins[e].state="error",t.trigger("plugin:error",e)}};t.plugins[e]||(this.plugins[e]={},this.plugins[e].state="loading",i.js(this.getPluginUrl(e),n,e))},isPluginInitialized:function(e){return this.plugins[e]&&this.plugins[e].state===o},isPluginLoaded:function(e){return this.plugins[e]&&"loaded"===this.plugins[e].state},isNotificationsPluginRequired:function(){var e=this.getOptions();return e.user_id&&e.user_name&&e.backend_url&&e.realm&&e.project&&e.notifications_enabled&&!this.isPluginInitialized(n.NOTIFICATIONS)},isSharedFramePluginRequired:function(){var e=this.getOptions();return e.backend_url&&e.realm&&e.project&&!this.isPluginInitialized(n.SHARED_FRAME)},isIntroTooltipsPluginRequired:function(){var e=this.getOptions();return this.Browser.allowSharedFrame()&&e.backend_url&&e.realm&&e.project&&e.intro_tooltips_enabled&&!this.isPluginLoaded(n.INTRO_TOOLTIPS)},isDesktopNotificationsPluginRequired:function(){var e=this.getOptions();return"Notification"in window&&e.user_id&&e.user_name&&e.backend_url&&e.realm&&e.project&&e.notifications_enabled&&e.desktop_notifications_enabled&&!e.desktop_notifications_refused&&!this.isPluginInitialized(n.DESKTOP_NOTIFICATIONS)},isUserMenuPluginRequired:function(){var e=this.getOptions();return(e.user_id&&e.user_name||e.ssw_enabled)&&e.backend_url&&e.realm&&e.project&&!this.isPluginInitialized(n.USER_MENU)},isStatisticsPluginRequired:function(){return!this.isPluginInitialized(n.STATISTICS)},isOutdatedBrowsersPluginRequired:function(){var e=this.getOptions();return e.backend_url&&e.realm&&e.project&&!this.isPluginInitialized(n.OUTDATED_BROWSERS)},isGamesDropdownPluginRequired:function(){return t.findFirstByClass(s.jsGamesDropdownClass)&&!this.isPluginInitialized(n.GAMES_DROPDOWN)},isServicesDropdownPluginRequired:function(){return t.findFirstByClass(s.jsServicesDropdownClass)&&!this.isPluginInitialized(n.SERVICES_DROPDOWN)},onPluginReady:function(t,n){this.isPluginInitialized(t)?n():this.on("plugin:ready",function(e){e===t&&n()})}}}(WGCM,WGCM.LazyLoad,WGCM.DOM,WGCM.PLUGINS_NAMES,WGCM.DEFAULT_CLASSES),!function(e,i,s,o,r){e.Hints={initHints:function(){var e=this.layoutElement,n=this;i.addEventListener(e,"mouseover",function(e){var t=e.target;e.stopPropagation(),s.isDesktop()&&!r.supportsTouch()&&(e.currentTarget=i.parentByClass(t,o.jsHintClass),e.currentTarget)&&!i.parentByClass(t,"cm-notifications_item-wrapper")&&n.showHint(e)}),i.addEventListener(e,"mouseout",function(e){var t=e.target;e.stopPropagation(),s.isDesktop()&&!r.supportsTouch()&&(e.currentTarget=i.parentByClass(t,o.jsHintClass),e.currentTarget)&&n.hideHint()})},showHint:function(e){var t=e.currentTarget,n=document.documentElement,p=i.findFirstByClass(o.jsHintContainerClass),m=i.findFirstByClass(o.jsLayoutClass),h=window.innerWidth||document.documentElement.clientWidth,f=window.innerHeight||document.documentElement.clientHeight,g=window.pageYOffset||n.scrollTop,_=window.pageXOffset||n.scrollLeft,n=t.getAttribute("data-title"),t=document.createTextNode(n);this.setPosition=function(e){var t=p.offsetWidth,n=p.offsetHeight,i=m.getBoundingClientRect(),s=0,o=25,r=e.originalEvent.pageX||e.originalEvent.clientX,e=e.originalEvent.pageY||e.originalEvent.clientY,a={x:0,y:0},l=g,c=_,u=h,d=f;a.x=u+l<r+t?r-t:r+s,a.x-=i.left,a.y=d+c<e+n+o?e-o-n:e+o,p.style.left=a.x+"px",p.style.top=a.y+"px"},n&&(p.innerHTML='<p class="'+o.titleParagraphClass+'"></p>',p.getElementsByTagName("p")[0].innerText=t.textContent,i.addClass(p,o.titleShowClass),this.setPosition(e))},hideHint:function(){var e=i.findFirstByClass(o.jsHintContainerClass);i.removeClass(e,o.titleShowClass),e.removeAttribute("style")}}}(WGCM,WGCM.DOM,WGCM.Viewport,WGCM.DEFAULT_CLASSES,WGCM.Browser),!function(e,o,S,s,b){e.RequiredResources={loadGamesPluginIfRequired:function(){this.isGamesDropdownPluginRequired()&&this.loadPlugin(s.GAMES_DROPDOWN),this.isServicesDropdownPluginRequired()&&this.loadPlugin(s.SERVICES_DROPDOWN)},loadRequiredPlugins:function(){this.isSharedFramePluginRequired()&&this.loadPlugin(s.SHARED_FRAME),this.isUserMenuPluginRequired()&&this.loadPlugin(s.USER_MENU),this.isNotificationsPluginRequired()&&(this.isPluginInitialized(s.MOMENT)||this.loadPlugin(s.MOMENT),this.loadPlugin(s.NOTIFICATIONS)),this.isIntroTooltipsPluginRequired()&&this.loadPlugin(s.INTRO_TOOLTIPS),this.isDesktopNotificationsPluginRequired()&&this.loadPlugin(s.DESKTOP_NOTIFICATIONS),this.isStatisticsPluginRequired()&&this.loadPlugin(s.STATISTICS),this.isOutdatedBrowsersPluginRequired()&&this.loadPlugin(s.OUTDATED_BROWSERS)},deliverThirdPartyScripts:function(e,n){function t(){var e=document.getElementsByTagName("head")[0],t=document.createElement("script");!i&&n&&(t.type="text/javascript",t.className="cm-third_party_delivered",t.text=n,e.appendChild(t),i=!0)}var e=e.user_id&&e.user_name,i=!1;!e||WG.CommonMenu.isUserLoaded?t():WG.CommonMenu.on("user_update",function(){t()})},loadResources:function(e,t){var n=this.getOptions(),i=[],s=this;return this.getConfigs(e,t),t.language&&(o.setDictionary({}),WG.CommonMenu.langs.indexOf(n.language)<0?i.push(this.getResourceUrl([n.frontend_url,"i18n","en"])):i.push(this.getResourceUrl([n.frontend_url,"i18n",n.language]))),t.user_id&&this.SharedFrame?this.SharedFrame.reloadFrame():t.user_id&&!this.SharedFrame&&this.on("sharedframe:init",function(){this.SharedFrame.reloadFrame()},this),this.loadRequiredPlugins(),0<i.length?S.js(i,function(){s.onResourcesReady(e,t)},null,this):this.onResourcesReady(e,t),this},loadRequiredResources:function(e,t){var n=this.getOptions(),i=this,n=WG.CommonMenu.langs.indexOf(n.language)<0?[this.getResourceUrl([n.frontend_url,"i18n","en"])]:[this.getResourceUrl([n.frontend_url,"i18n",n.language])];return t?this.onConfigsReady():this.getConfigs(),void 0===window.JSON&&n.push(this.getPluginUrl(s.JSON)),S.js(n,i.onResourcesReady,null,this),S.css(this.getStylesUrl(),function(){e.done=!0,void 0!==this.layoutElement&&setTimeout(function(){i.layoutElement.style.visibility="visible",i.layoutElement.style.height="",i.layoutElement.style.overflow=""},10)},null,this),this},getConfigs:function(t,n){function i(){var e;_+v===g&&(e=0<w,s.trigger("configs:finished",t,n,e))}var e=this.getOptions(),s=this,o=[],r=e.backend_url+"/media/public/config",a=e.frontend_url+"/media/public/config",l=n&&n.realm,c=n&&(n.project||n.realm),u=n&&n.language,d=[r,"realms",e.realm+"_"+e.project],p=[r,"games",e.realm],m=[r,"cards",e.realm],h=[r,"services",e.realm+"_"+e.project],f=[r,"i18n",e.language],r=[r,"i18n","en"],g=0,_=0,v=0,w=0,C={success:function(){_++,i()},error:function(e){for(var t=!0,n=0;n<e.length;n++)f[n]!==e[n]&&(t=!1);t?_++:(w++,e[0]=a,S.js(s.getResourceUrl(e),y)),i()}},y={success:function(){_++,i()},error:function(){v++,i()}};(!n&&e.realm||l)&&(g+=2,o.push({url:this.getResourceUrl(p),obj:p}),o.push({url:this.getResourceUrl(m),obj:m})),(!n&&e.project&&e.realm||c)&&(g+=2,o.push({url:this.getResourceUrl(d),obj:d}),o.push({url:this.getResourceUrl(h),obj:h})),(!n&&e.language||u)&&(g++,WG.CommonMenu.langs.indexOf(e.language)<0?o.push({url:this.getResourceUrl(r),obj:r}):o.push({url:this.getResourceUrl(f),obj:f})),0<b.keys(o).length&&S.js(o,C,"",this,4e3)},getStylesUrl:function(){var e=this.getOptions();return[e.frontend_url,"css","style"].join("/")+".css?"+e.version},isLinksConfigAvailable:function(){var e=this.getOptions();return e.project&&e.service&&e.realm},getResourceUrl:function(e){var t=this.getOptions();return e.join("/")+".js?"+t.version}}}(WGCM,WGCM.i18n,WGCM.LazyLoad,WGCM.PLUGINS_NAMES,WGCM.utils),!function(e,t,n,i,s,o){e.MenuSpinner={spinnerDefaults:{lines:11,length:5,width:3,radius:5,corners:1,rotate:0,direction:1,color:"#707273",speed:1,trail:60,shadow:!1,hwaccel:!1,className:"cm-spinner",zIndex:2e9,top:"50%",left:"50%"},showLoginSpinner:function(){this.activateLoginSpinner()},getTargetElement:function(){var e=n.isDesktop()?t.findFirstByClass(s.jsLoginSpinnerClass):t.findFirstByClass(s.jsLoginSpinnerMobileClass);return e},hideLoginSpinner:function(){this.loginSpinner&&(this.loginSpinner.stop(),this.loginSpinner=null)},activateLoginSpinner:function(){var e=this.getTargetElement(),t=this.getSpinnerOptions();this.loginSpinner&&this.loginSpinner.stop(),e&&t&&(this.loginSpinner=new o(t).spin(e))},getSpinnerOptions:function(){var e=n.isDesktop()?"-15px":"125%";return i.extend({},this.spinnerDefaults,{lines:9,length:2,width:2,radius:3,color:"#fff",trail:90,left:e})}}}(WGCM,WGCM.DOM,WGCM.Viewport,WGCM.utils,WGCM.DEFAULT_CLASSES,window.Spinner),!function(e,t,m,n){var i,s=Object.prototype.hasOwnProperty;function o(e){this.options=t.extend({},this.defaults,e),this.uid=this.options.uid||o.uid(),this.element=this.createElement()}o.uid=(i=1,function(){return"cm-tooltip-"+ ++i}),o.TYPE_ERROR="error",o.TYPE_WARNING="warning",o.presets={},o.create=function(e){return s.call(o.presets,e)?new o("function"==typeof(e=o.presets[e])?e():t.extend({},e)):null},t.extend(o.prototype={defaults:{renderTo:null,target:null,text:"",type:o.TYPE_WARNING,centering:"auto",className:"cm-tooltip",openedClass:"cm-tooltip__open",alignLeftClass:"cm-tooltip__left",alignRightClass:"cm-tooltip__right",alignCenterClass:"cm-tooltip__center",closeButtonClass:"cm-close",removeDuration:300},createElement:function(){var e=document.createElement("div"),t=this.options.className;return e.setAttribute("id",this.uid),e.className=t,this.options.type&&(e.className+=" "+t+"__"+this.options.type),e.innerHTML=this.options.text,e.appendChild(this.createCloseButton()),e},createCloseButton:function(){var e=document.createElement("a"),t=this.options,n=this;return e.innerHTML="&#x2715;",e.className=t.closeButtonClass,e.setAttribute("href","#"),m.addEventListener(e,"click touchend",function(e){n.destroy(),"function"==typeof t.onCloseButtonClick&&t.onCloseButtonClick(n),e.preventDefault(),e.stopPropagation()}),e},updatePosition:function(){var e,t=this.element,n=this.options.target,i=this.options.centering,s=n.clientWidth,o=Math.round(s/2),r=m.getElementOffset(n),a=this.options.renderTo,l=a.clientWidth,a=m.getElementOffset(a),c=(document.body.clientWidth-l)/2,u=c+r.left-a.left+o,n=r.top-a.top+n.clientHeight,d=t.clientWidth,p=Math.round(d/2);"right"===(i="auto"===i&&(i=p<u?"center":"left",l<u+d)?"right":i)?(m.addClass(t,this.options.alignRightClass),d=document.body.clientWidth-a.left-l,e=c+document.body.clientWidth-r.left-s-d+o):"center"===i&&(m.addClass(t,this.options.alignCenterClass),u-=p),"right"!==i?t.style.left=u+"px":t.style.right=e+"px",t.style.top=n+"px"},render:function(){function e(){n.updatePosition(),m.addClass(n.element,t.openedClass),n.trigger("render",n)}var t=this.options,n=this;"function"==typeof t.renderTo&&(t.renderTo=t.renderTo()),m.isElement(t.renderTo)&&m.isElement(t.target)&&(t.renderTo.appendChild(this.element),m.supportsCSSTransitions?setTimeout(e,t.removeDuration,0):e())},destroy:function(){function e(){m.remove(n.element),n.trigger("destroy",n)}var t=this.options,n=this;m.removeClass(this.element,t.openedClass),m.supportsCSSTransitions?setTimeout(e,t.removeDuration):e()}},n),e.Tooltip=o}(WGCM,WGCM.utils,WGCM.DOM,WGCM.Events),!function(e,t){e.personaHelpers={checkIfGlobalRealm:e=>e===t.REALMS.GLOBAL,getRealmName:e=>e===t.REALMS.SG?t.READABLE_SG_NAME:e}}(WGCM,WGCM.CONSTANTS),!function(e,i,s,o,r,a){e.LoginTooltips={showTooltip:function(e){this.hideTooltip(),this.tooltip=r.create(e),this.tooltip&&(this.tooltip.options.renderTo=function(){return i.findFirstByClass(a.jsLayoutContentClass)},this.tooltip.render())},hideTooltip:function(){this.tooltip&&this.tooltip.destroy()},defineTooltip:function(e,t){e&&(r.presets[e]=t)},defineTooltips:function(t){function n(){var e=i.findFirstByClass(a.jsLoginLinkClass),t=i.findFirstByClass(a.jsUserMenuDropdownLink);return e=t&&0<t.offsetLeft?t:e}this.defineTooltip("login_error",function(){return{type:r.TYPE_ERROR,target:n(),text:o._("tooltip_login_error")}}),this.defineTooltip("login_error_retry",function(){var e='<a href="'+t.login_url+'"class="cm-link js-cm-event" data-cm-event="login">';return{type:r.TYPE_ERROR,target:n(),text:s.formatString(o._("tooltip_login_error_retry"),e,"</a>")}})}}}(WGCM,WGCM.DOM,WGCM.utils,WGCM.i18n,WGCM.Tooltip,WGCM.DEFAULT_CLASSES),!function(e,o,r,t,n,i,s,a,l,c,u,d,p,m,h,f,g,_,v,w,C){var y="common_menu",S=!1,b=!1,k=!1,E={done:!1},j=!0,T={},M={},L={},x={version:"0.0.0",service:"",project:"",realm:"",language:"en",incomplete_profile_notification_enabled:!0,maxNotitifcationsCount:30,scrollAnimationSpeed:500,maxTapTime:400,hintOffsetY:25,extraLinksStates:{},relativeTimeThresholds:{s:60,m:60,h:24,d:31,M:12}},O=Object.prototype.hasOwnProperty;function D(){var e,t=document.querySelector("."+m.jsUserMenuStaticLinkClass);t&&(l.isMobile()?(t.style.display="",(e=t?.querySelector("a ."+m.jsUserMenuLinkText))&&(37<e.getBoundingClientRect().height?t.style.display="none":t.style.display="")):"none"===window.getComputedStyle(t).display&&(t.style.display=""))}let A=null;function R(e){var t,n;for(t in e)O.call(e,t)&&("string"==typeof(n=e[t])&&(0===n.length?T[t]=n=void 0:n=function(e){if(parseInt(e,10)+""===e)return parseInt(e,10);switch(e){case"true":e=!0;break;case"false":e=!1;break;case"null":e=null}return e}(n)),e[t]=n);T=u.extend({},x,T,e),L=u.extend({},T,M)}function G(e){R(e),this.clientId="cm"+(new Date).getTime()}u.extend(G.prototype,t,{configs:{},templates:{},init:function(){var i=this.getOptions(),e=document.getElementById(y),s=this;WG.CommonMenuCallbacks&&WG.CommonMenuCallbacks.beforeInit&&"function"==typeof WG.CommonMenuCallbacks.beforeInit&&WG.CommonMenuCallbacks.beforeInit(),e&&this.onHolderReady(),this.on("holder_ready",this.onHolderReady,this),this.on("render",this.onRender,this),this.on("dropdownshow:notifications",this.updateNotificationsDropdownPosition,this),this.on("configs:finished",function(e,t,n){n&&s.set("images_url",i.frontend_url),s.onConfigsReady(e,t)},this),this.defineTooltips(i),!1!==T.preload&&(e=!i.backend_url,this.loadRequiredResources(E,e)),this.initDropdownWindowHandlers()},getOptions:function(){return L},render:function(){var e,t=this.menuContainerElement=document.getElementById(y),n=this.getOptions(),i=r.getBrowserInfo(),s=this;if(t)return(e=Object.values(C.REALMS).includes(n.realm))&&(n.realmName=w.getRealmName(n.realm),n.isGlobalRealm=w.checkIfGlobalRealm(n.realm)),e=u.extend({},p,{options:n,realm:this.configs.realm||{},showServicesDropDown:this.configs.services&&0<this.configs.services.length,showGamesDropDown:this.configs.games&&0<this.configs.games.length,clientId:this.clientId,isVisibleRealmIcon:e}),t.innerHTML=this.template(e),this.dropdownLinks=o.findByClass(m.jsDropdownLinkClass),this.layoutElement=o.findFirstByClass(m.jsLayoutClass),this.gamesDropdown=o.findFirstByClass(m.jsGamesDropdownClass),this.servicesDropdown=o.findFirstByClass(m.jsServicesDropdownClass),this.initDomEvents(),this.updateLinksTargetAttribute(this.layoutElement),r.supportsTouch()||o.addClass(this.layoutElement,m.notTouchClass),r.allowSVG()&&!r.isIE()||o.addClass(this.layoutElement,m.notSVGClass),"ie"===i.name&&o.addClass(this.layoutElement,"cm-ie"+i.version),r.isActualBrowser(n)||o.addClass(this.layoutElement,m.oldBrowser),E.done||(this.layoutElement.style.visibility="hidden",this.layoutElement.style.height=0,this.layoutElement.style.overflow="hidden",setTimeout(function(){s.layoutElement.style.visibility="visible",s.layoutElement.style.height="",s.layoutElement.style.overflow=""},5e3)),this.trigger("render"),this;throw new Error('WG.CommonMenu: holder element with id="'+y+'" was not found')},initDomEvents:function(){var e=this.layoutElement,i=this;o.addEventListener(e,"click",function(e){var t=e.target,n=o.parentByClass(t,"js-cm-event");n&&"string"==typeof(n=n.getAttribute("data-cm-event"))&&i.trigger(n,e,i),e.currentTarget=o.parentByClass(t,m.jsDropdownLinkClass),e.currentTarget?i.onDropdownLinkClick(e):(e.currentTarget=o.parentByClass(t,m.jsUpLinkClass),e.currentTarget?i.onUpLinkClick(e):(e.currentTarget=o.parentByClass(t,m.jsLoginLinkClass),e.currentTarget?i.onLoginLinkClick(e):(e.currentTarget=o.parentByClass(t,m.jsExtraLinkNew),e.currentTarget&&i.onNewExtraLinkClick(e))))}),this.on("setMenuLinksVisibility",D,this);let t=window.innerWidth;o.addEventListener(window,"resize",()=>{window.innerWidth!==t&&(t=window.innerWidth,clearTimeout(A),A=setTimeout(D,200))}),this.initHints()},get:function(e){return this.getOptions()[e]},set:function(e,t){var n={};n[e]=t,R(n)},update:function(e){var t,n,i=this;return e?S&&b&&k?(t=this.getOptions(),(n=e.language)&&(e.language=0<=n.indexOf("-")?n.slice(0,n.indexOf("-"))+"_"+n.slice(n.indexOf("-")+1).toUpperCase():n),R(e),((t=function(e,t){var n,i={};for(n in t)O.call(t,n)&&t[n]!==e[n]&&(i[n]=t[n]);return i}(t,n=this.getOptions())).realm||t.project||t.language)&&(k=!1),0<u.keys(t).length?(b=!1,this.loadResources(n,t),this):void 0):(i.on("resources_ready",function(){i.off("resources_ready"),i.update(e)}),this):this},updateLinksTargetAttribute:function(e){var t=this.getOptions(),e=e.getElementsByTagName("a");e.length&&u.forEach(e,function(e){o.hasClass(e,m.jsLinkIgnoreTargetClass)||(t.open_links_in_new_tab?e.setAttribute("target","_blank"):e.removeAttribute("target"))})},onHolderReady:function(){S||(S=!0,this.onReady())},onResourcesReady:function(e,t){b||(b=!0,this.onReady(e,t))},onConfigsReady:function(e,t){k||(k=!0,this.onReady(e,t))},filterOverrides:function(e){var t,n=["version","incomplete_profile_notification_enabled","intro_tooltips_enabled","third_party_delivery_enabled","desktop_notifications_enabled","notifications_enabled","chat_enabled"],i={};for(t in e)O.call(e,t)&&u.inArray(n,t)&&(i[t]=e[t]);return i},applyOverrides:function(e){e&&(M=this.filterOverrides(e),R({}),S)&&b&&this.update({})},onReady:function(e,t){var n=this.getOptions();S&&b&&k&&(this.trigger("resources_ready"),this.render(),j?(j=!1,this.trigger("first_render"),this.loadRequiredPlugins(),n.third_party_delivery_enabled&&this.deliverThirdPartyScripts(n,this.configs.realm.third_party_js)):this.trigger("update",e,t))},onRender:function(){this.loadGamesPluginIfRequired()},isSharedFrameReady:function(){return!!r.allowSharedFrame()&&this.SharedFrame&&this.SharedFrame.ready},isSharedFrameFailed:function(){return!r.allowSharedFrame()||this.SharedFrame&&this.SharedFrame.failed}}),u.extend(G.prototype,s,h,f,g,_,v),u.extend(G.prototype,{DOM:o,Browser:r,Viewport:l,Events:t,Spinner:a,Tooltip:c,i18n:n,LazyLoad:i,utils:u,templateHelpers:p,PLUGINS_NAMES:d,DEFAULT_CLASSES:m,personaHelpers:w,CONSTANTS:e.CONSTANTS}),e.CommonMenu=G}(WGCM,WGCM.DOM,WGCM.Browser,WGCM.Events,WGCM.i18n,WGCM.LazyLoad,WGCM.Pluginable,window.Spinner.noConflict(),WGCM.Viewport,WGCM.Tooltip,WGCM.utils,WGCM.PLUGINS_NAMES,WGCM.templateHelpers,WGCM.DEFAULT_CLASSES,WGCM.Hints,WGCM.RequiredResources,WGCM.MenuSpinner,WGCM.LoginTooltips,WGCM.Dropdowns,WGCM.personaHelpers,WGCM.CONSTANTS),!function(i,e,t){var s,o,n,r,a,l,c=document.getElementById("common_menu_loader"),u=["service","project","realm","language","options_cookie_prefix","ssw_client_id","user_id","user_name","ssw_enabled","incomplete_profile_notification_enabled","notifications_enabled","intro_tooltips_enabled","third_party_delivery_enabled","desktop_notifications_enabled","desktop_notifications_refused","chat_enabled","open_links_in_new_tab","outdated_browsers","no_tel_refused","weak_pass_refused","backend_url","frontend_url","token_url","login_url","logout_url","registration_url","incomplete_profile_url","images_url","account_switch_url","debug","preload"];if(!c)throw new Error("WG.CommonMenu: the loader element was not found");n=function(){for(var e,t,n={},i=u.length,s=0;s<i;s++)t=c.getAttribute("data-"+(e=u[s])),null!==(t="language"===e&&0<=t.indexOf("-")?t.slice(0,t.indexOf("-"))+"_"+t.slice(t.indexOf("-")+1).toUpperCase():t)&&""!==t&&(n[e]=t);return n}(),(n=i.extend({},{chat_enabled:!1,incomplete_profile_notification_enabled:!0,ssw_enabled:!1,notifications_enabled:!0,desktop_notifications_enabled:!0,intro_tooltips_enabled:!0,third_party_delivery_enabled:!0,outdated_browsers:"ie9,opera12"},n,(s=n.options_cookie_prefix||"cm.options.",o={},n=document.cookie?document.cookie.split("; "):[],i.forEach(n,function(e){var e=e.split("="),t=e[0],n=e[1];i.some(u,function(e){if(s+e===t)return o[e]=decodeURIComponent(n),!0})}),o))).frontend_url||(n.frontend_url=(r=c.getAttribute("src"),(l=document.createElement("a")).setAttribute("href",r),l.host||(l.href=l.href),(r=(0===l.pathname.indexOf("/")?l.pathname:"/"+l.pathname).split("/")).pop(),a="",(a=l.host?":"===l.protocol?"//"+l.host:l.protocol+"//"+l.host:a)+r.join("/"))),n.images_url=n.backend_url||n.frontend_url,t.WG=t.WG||{},t.WG.CommonMenu=new e(n)}(WGCM.utils,WGCM.CommonMenu,window),WG.CommonMenu.template=function(data){var p=[],tagStart,tagEnd;with(data)p.push('<div class="cm-layout '),isChineseRealm(options)&&p.push(" cm-layout__china "),p.push(" "),isRtlLanguage(options)&&p.push(" cm-layout-rtl "),p.push(' js-cm-layout">'),hasAttr(options,"backend_url")&&options.realm&&options.project?(p.push('<div class="cm-layout_content js-cm-layout-content">'),options.user_id&&options.user_name?(p.push('<div class="cm-menu cm-menu__user js-cm-menu__user"><a href="#" class="cm-user-menu-link js-cm-dropdown-link js-cm-event js-cm-user-menu-link" data-cm-event="toggle_user_menu" data-incomplete-class="cm-user-menu-link__important" data-premium-class="cm-user-menu-link__premium" data-active-class="cm-user-menu-link__opened"><span class="cm-important js-cm-incomplete-profile-icon" data-active-class="cm-important__active">important</span> <span class="cm-premium js-cm-premium-profile-icon" data-active-class="cm-premium__active" data-active-ws-class="cm-premium__active-ws" data-active-plus-class="cm-premium__active-plus">premium</span><div class="cm-user-menu-link_current-account"><span class="cm-user-menu-link_hovered-text">',escape(options.user_name),"</span> "),isVisibleRealmIcon&&(p.push(' <span class="cm-account-region cm-user-menu-link_region js-cm-menu_region '),options.isGlobalRealm&&p.push("cm-account-region__hidden"),p.push('">'),options.isGlobalRealm||p.push(" ",escape(options.realmName)," "),p.push(" </span>")),p.push(' <span class="cm-arrow cm-arrow__mobile-hidden">arrow</span></div></a><div class="cm-user-menu js-cm-dropdown js-cm-user-menu-dropdown" data-dropdown="user-menu" data-active-class="cm-user-menu__opened"><div class="cm-user-menu_holder js-cm-user-menu-profile-list" id="',escape(clientId),'_user_menu"></div><div class="cm-user-menu_holder cm-user-menu_holder_hidden" id="',escape(clientId),'_persona_menu"></div></div>'),options.notifications_enabled&&(p.push(' <a href="#" class="cm-notifications-link js-cm-notifications-link js-cm-dropdown-link js-cm-event" data-cm-event="toggle_notifications" data-active-class="cm-notifications-link__opened"><span class="cm-counter cm-counter__hidden js-cm-notifications-counter">'),options.notifications_count&&p.push(" ",escape(options.notifications_count)," "),p.push(' </span><span class="cm-notifications-link_icon">notification</span></a><div class="cm-notifications js-cm-dropdown js-cm-notifications-dropdown" id="',escape(clientId),'_notifications" data-dropdown="notifications" data-active-class="cm-notifications__opened"></div>')),p.push("</div>")):options.ssw_enabled&&!options.ssw_auth_failed?p.push('<div class="cm-menu cm-menu__user"><div class="js-cm-login-spinner"></div><span class="cm-menu_text-or"></span></div>'):(p.push('<div class="cm-menu cm-menu__user cm-menu__user-unauthorized js-cm-menu__user">'),hasAttr(options,"login_url")&&(p.push('<div class="js-cm-login-spinner"></div><a href="',escape(options.login_url),'" class="cm-link cm-link__register cm-link__no-decoration'),hasAttr(options,"registration_url")||p.push("cm-link__register"),p.push(' js-cm-event js-cm-login-link js-cm-link-ignore-target" data-cm-event="login">',escape(_("link_login")),"</a> ")),p.push(" "),hasAttr(options,"registration_url")&&(p.push(" "),hasAttr(options,"login_url")?p.push(' <span class="cm-menu_text-or">',escape(_("text_or")),'</span> <a href="',escape(addUtm(options.registration_url)),'" class="cm-link cm-link__register cm-link__no-decoration js-cm-event js-cm-reg-link" data-cm-event="registration">',escape(_("link_create_account")),"</a> "):p.push(' <a href="',escape(addUtm(options.registration_url)),'" class="cm-link cm-link__register cm-link__no-decoration js-cm-event js-cm-reg-link" data-cm-event="registration">',escape(_("link_create_account_capital")),"</a> "),p.push(" ")),p.push(" "),(hasAttr(options,"login_url")||hasAttr(options,"registration_url"))&&(p.push(' <a href="#" class="cm-user-menu-link cm-user-menu-link__unauthorised js-cm-dropdown-link js-cm-event js-cm-user-menu-link" data-tooltip-text="',escape(_("tooltip_user_menu")),'" data-cm-event="toggle_user_menu" data-active-class="cm-user-menu-link__unauthorised-opened"></a><div class="cm-user-unauthorized js-cm-dropdown" data-active-class="cm-user-unauthorized__opened"><h1 class="cm-menu-heading js-menu-heading">',escape(_("text_my_game_profiles")),"</h1><ul>"),hasAttr(options,"login_url")&&p.push('<li class="cm-user-unauthorized_item"><a href="',escape(options.login_url),'" class="cm-nav-link js-cm-event js-cm-login-link js-cm-link-ignore-target" data-cm-event="login"><span class="cm-nav-link_text"><span class="js-cm-login-spinner-mobile"></span> ',escape(_("link_login")),"</span></a></li>"),p.push(" "),hasAttr(options,"registration_url")&&p.push('<li class="cm-user-unauthorized_item"><a href="',escape(addUtm(options.registration_url)),'" class="cm-nav-link js-cm-reg-link" data-cm-event="registration">',escape(_("link_create_account_capital")),"</a></li>"),p.push('</ul><div class="cm-up cm-up__bordered"><a class="cm-up_link js-cm-up_link" href="#"><span class="cm-up_arrow">arrow up</span></a></div></div>')),p.push("</div>")),p.push(' <a class="cm-singletons cm-singletons__main cm-singletons__logo" href="',escape(addUtm(realm.main_url)),'">'),realm.main_icon&&p.push(' <span class="cm-singletons_ico-wrapper cm-singletons_ico-wrapper__main cm-singletons_ico-wrapper__logo"><span class="cm-singletons_ico-holder cm-singletons_ico-holder__main cm-singletons_ico-holder__logo"><img class="cm-singletons_ico" src="',escape(buildImageUrl(realm.main_icon,options)),'" alt=""> </span></span>'),p.push(" </a>"),showGamesDropDown&&p.push('<div class="cm-showcase js-cm-li-ptl"><span class="cm-showcase_opener js-cm-tooltip-games" data-active-class="cm-showcase_opener__opened" data-tooltip-text="',escape(_("tooltip_games")),'">',escape(_("link_games")),'<span class="cm-arrow cm-arrow__showcase">arrow</span></span><div class="cm-showcase_dropdown js-cm-dropdown js-cm-games-dropdown" data-active-class="cm-showcase_dropdown__opened" data-dropdown="games"></div></div>'),p.push(" "),showServicesDropDown&&p.push('<div class="cm-showcase js-cm-li-ptl"><span class="cm-showcase_opener js-cm-tooltip-services" data-active-class="cm-showcase_opener__opened" data-tooltip-text="',escape(_("tooltip_services")),'">',escape(_("link_services")),'<span class="cm-arrow cm-arrow__showcase">arrow</span></span><div class="cm-showcase_dropdown js-cm-dropdown js-cm-services-dropdown" data-active-class="cm-showcase_dropdown__opened" data-dropdown="services"></div></div>'),p.push('<div class="cm-menu_static jc-cm-menu_static-links">'),forEach(realm.static_links,function(e,t){p.push(' <a class="cm-singletons cm-singletons__main" style="color: #',escape(e.color),'" href="',escape(addUtm(e.url)),'"><span class="cm-singletons_text cm-singletons_text__main js-cm-singletons_text">',escape(_u(e.title_text)),"</span> </a>")}),p.push('</div></div><div class="cm-browsers-alert" style="display:none;"><p><span class="cm-browsers-alert_icon">browsers-alert</span> '),tagStart='<a href="'+options.backend_url+"/public/browser.html?realm="+options.realm+"&service="+options.service+"&project="+options.project+"&language="+options.language+"&frontend_url="+options.frontend_url+'" class="cm-link cm-browsers-alert_link">',p.push(" "),tagEnd="</a>",p.push(" ",formatString(_("browsers_alert"),tagStart,tagEnd),' <a href="#" class="cm-close cm-close__browsers">&#x2715;</a></p></div>')):(p.push('<div class="cm-layout_content js-cm-layout-content">'),options.user_id&&options.user_name?p.push('<div class="cm-menu cm-menu__user js-cm-menu__user"><span class="cm-link__user-name">',escape(options.user_name),'</span> <a href="',escape(options.logout_url),'" class="cm-link cm-link__no-decoration cm-link__logout js-cm-event" data-cm-event="logout">',escape(_("link_logout")),"</a></div>"):(p.push('<div class="cm-menu cm-menu__user cm-menu__user-unauthorized js-cm-menu__user">'),hasAttr(options,"login_url")&&(p.push('<div class="js-cm-login-spinner"></div><a href="',escape(options.login_url),'" class="cm-link cm-link__no-decoration'),hasAttr(options,"registration_url")||p.push("cm-link__register"),p.push(' js-cm-event js-cm-login-link js-cm-link-ignore-target" data-cm-event="login">',escape(_("link_login")),"</a> ")),p.push(" "),hasAttr(options,"registration_url")&&(p.push(" "),hasAttr(options,"login_url")?p.push(' <span class="cm-menu_text-or">',escape(_("text_or")),'</span> <a href="',escape(addUtm(options.registration_url)),'" class="cm-link cm-link__register cm-link__no-decoration js-cm-event js-cm-reg-link" data-cm-event="registration">',escape(_("link_create_account")),"</a> "):p.push(' <a href="',escape(addUtm(options.registration_url)),'" class="cm-link cm-link__register cm-link__no-decoration js-cm-event js-cm-reg-link" data-cm-event="registration">',escape(_("link_create_account_capital")),"</a> "),p.push(" ")),p.push("</div>")),p.push("</div>")),p.push('<div class="cm-title js-cm-hint-container"></div></div>');return p.join("")},WG&&WG.CommonMenu&&(WG.CommonMenu.langs=["ar","bg","cs","de","el","en","es_AR","es_MX","es","fr","hr","hu","it","ja","kk","ko","ms","pl","pt_BR","pt","ro","ru","sr","th","tr","uk","vi","zh_CN","zh_SG","zh_TW","zu"])}(window);
// note: don't put "true" here!
WG.CommonMenu.applyOverrides({
    chat_enabled: false,
    // incomplete_profile_notification_enabled: false,
    // notifications_enabled: false,
    intro_tooltips_enabled: false,
    // third_party_delivery_enabled: false,
    // desktop_notifications_enabled: false
    version: '1.4.0'
});
WG.CommonMenu.init();
